<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="author" content="Eric Zong">
<title>查询</title>
<link type="text/css" rel="stylesheet" href="../css/common.css"  />
<link type="text/css" rel="stylesheet" href="../css/print.css" media="print" />
<link type="text/css" rel="stylesheet" href="../css/title.css"  />
<script type="text/javascript" src="../js/title.js"></script>
</head>
<body>
  <h1>多表查询</h1>
  <p>多表查询的条件：不能少于表的个数-1，如4张表的关联至少需要3个条件才能避免出现笛卡尔积。</p>
  
  <h1>多列子查询</h1>
  <p>多列子查询则是指返回多列数据的子查询语句。</p>
  <pre class="code">select * from emp where (deptno,job)=(select deptno,job from emp where ename = 'Smith');</pre>
  <h2>单行比较 vs. 多行比较</h2>
  <p>当多列子查询返回单行数据时，在where子句中可以使用单行比较符。（=，!=，...）</p>
  <p>而返回多行数据时，在where字句中必须使用多行比较符。（in，all，any）</p>
  <h2>成对比较 vs. 非成对比较</h2>
  <p>使用子查询比较多个列的数据时，既可以使用成对比较，也可以使用非成对比较。其中，成对比较要求多个列的数据必须同时匹配，而非成对比较则不要求多个列的数据必须同时匹配。</p>
  <pre class="code">
<span class="comment">--成对比较示例</span>
SELECT ename, sal, comm, deptno FROM emp
  WHERE (sal, nvl(comm, -1)) IN (SELECT sal, nvl(comm, -1) FROM emp WHERE deptno=30);
<span class="comment">--非成对比较示例</span>
SELECT ename, sal, comm, deptno FROM emp
  WHERE sal IN (SELECT sal FROM emp WHERE deptno=30) AND nvl(comm, -1) IN (SELECT nvl(comm, -1) FROM emp WHERE deptno=30);</pre>  
  
  <h1>排序</h1>
  
  
  <h1>附录</h1>
  <h2>转义</h2>
  <p>escape 子句可把“_”和“%”从特殊标志返回到普通字符。escape 子句用来指定一个退出符号，该退出符号后面的字符被作为普通字符对待。</p>
  <pre class="code">
select ... from ...
  where ... like 'A<span class="notice">\</span>%' escape '<span class="notice">\</span>';</pre>
  
  <h2>其它</h2>
  <p>between...and... 包含边界值。</p>
</body>
</html>